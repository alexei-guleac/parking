<h1 class="text-center font-weight-light m-5">Create account</h1>

<div class="container col-lg-5 mt-5">

    <div class="card border-radius-m z-depth-5">
        <div class="card-body mx-auto text-center">

            <img src="../../assets/img/isd-logo.png" style="height: 200px; width: 200px;" alt="isd_logo">
            <h1 class="h1">ParKing</h1>

            <form [formGroup]="regForm" class="form-group mx-auto text-center" (ngSubmit)="onSubmit()">

                <div class="alert alert-warning" *ngIf='invalidReg'>{{errorMessage}}</div>
                <div class="alert alert-success" *ngIf='regSuccess'>{{successMessage}}</div>

                <div class="form-group mx-auto text-center">
                    <label for="username">User Name :</label>
                    <input type="text" class="form-control full-width" formControlName="username" style="width: 22rem"
                           id="username"
                           [(ngModel)]="username"
                           placeholder="Enter User Name"
                           name="username" required minlength="5">
                    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger font-error ">
                        <div *ngIf="name.errors.required">
                            Name is required.
                        </div>
                        <div *ngIf="name.errors.minlength">
                            Name must be at least 5 characters long.
                        </div>
                        <div *ngIf="name.errors.maxlength">
                            Name must be maximum 15 characters long.
                        </div>
                        <div *ngIf="name.errors.forbiddenName">
                            Name should contain only<br/>
                            A-Z, a-z, 0-9 symbols and "_" or ".".
                        </div>
                    </div>
                </div>
                <div class="form-group mx-auto text-center">
                    <label for="email">Email :</label>
                    <input type="text" class="form-control full-width" formControlName="email" style="width: 22rem"
                           id="email"
                           [(ngModel)]="email"
                           placeholder="Enter email"
                           name="email" required minlength="8">
                    <div *ngIf="mail.invalid && (mail.dirty || mail.touched)" class="alert alert-danger font-error ">
                        <div *ngIf="mail.errors.required">
                            Email is required.
                        </div>
                        <div *ngIf="mail.errors.minlength">
                            Email must be at least 8 characters long.
                        </div>
                        <div *ngIf="mail.errors.maxlength">
                            Email must be maximum 35 characters long.
                        </div>
<!--                        <div *ngIf="mail.errors.forbiddenName">-->
                        <div *ngIf="mail.errors.pattern">
                            Email should contain @<br/>
                            A-Z, a-z, 0-9 symbols and "_", ".".
                        </div>
                    </div>
                </div>
                <div class="form-group mx-auto text-center">
                    <label for="firstname">First Name :</label>
                    <input type="text" class="form-control full-width" formControlName="firstname" style="width: 22rem"
                           id="firstname"
                           [(ngModel)]="firstname"
                           placeholder="Enter First Name"
                           name="firstname" required minlength="3">
                    <div *ngIf="fname.invalid && (fname.dirty || fname.touched)" class="alert alert-danger font-error ">
                        <div *ngIf="fname.errors.required">
                            First Name is required.
                        </div>
                        <div *ngIf="fname.errors.minlength">
                            First Name must be at least 3 characters long.
                        </div>
                        <div *ngIf="fname.errors.maxlength">
                            First Name must be maximum 15 characters long.
                        </div>
                        <div *ngIf="fname.errors.forbiddenName">
                            First Name should contain only<br/>
                            A-Z, a-z and symbols "_", "-".
                        </div>
                    </div>
                </div>
                <div class="form-group mx-auto text-center">
                    <label for="lastname">Last Name :</label>
                    <input type="text" class="form-control full-width" formControlName="lastname" style="width: 22rem"
                           id="lastname"
                           [(ngModel)]="lastname"
                           placeholder="Enter Last Name"
                           name="lastname" required minlength="3">
                    <div *ngIf="lname.invalid && (lname.dirty || lname.touched)" class="alert alert-danger font-error ">
                        <div *ngIf="lname.errors.required">
                            Last Name is required.
                        </div>
                        <div *ngIf="lname.errors.minlength">
                            Last Name must be at least 3 characters long.
                        </div>
                        <div *ngIf="lname.errors.maxlength">
                            Last Name must be maximum 15 characters long.
                        </div>
                        <div *ngIf="lname.errors.forbiddenName">
                            Last Name should contain only<br/>
                            A-Z, a-z, 0-9 and symbols "_", "-".
                        </div>
                    </div>
                </div>
                <div class="form-group mx-auto text-center">
                    <label for="password">Password :</label>
                    <input type="password" class="form-control full-width" formControlName="password"
                           style="width: 22rem"
                           id="password"
                           [(ngModel)]="password"
                           placeholder="Enter password"
                           name="password" required minlength="6">
                    <div *ngIf="pass.invalid && (pass.dirty || pass.touched)" class="alert alert-danger font-error ">
                        <div *ngIf="pass.errors.required">
                            Password is required.
                        </div>
                        <div *ngIf="pass.errors.minlength">
                            Password must be at least 6 characters long.
                        </div>
                        <div *ngIf="pass.errors.maxlength">
                            Password must be maximum <br/>10 characters long.
                        </div>
                        <div *ngIf="pass.errors.pattern">
                            Password should contain<br/>
                            at least one uppercase letter, <br/>
                            one lowercase letter, one number <br/>
                            and one special character from @$!%*?&
                        </div>
                    </div>
                </div>
                <div class="form-group mx-auto text-center">
                    <label for="passConfirm">Repeat password :</label>
                    <input type="password" class="form-control full-width" formControlName="passConfirm"
                           style="width: 22rem"
                           id="passConfirm"
                           [(ngModel)]="passConfirm"
                           placeholder="Repeat password"
                           name="passConfirm" required validateEqual="password" minlength="6">
                    <div *ngIf="passConf.invalid && (passConf.dirty || passConf.touched)"
                         class="alert alert-danger font-error ">
                        <div *ngIf="passConf.errors.required">
                            Password confirmation is required.
                        </div>
                        <div *ngIf="passConf.errors.minlength">
                            Password must be at least 6 characters long.
                        </div>
                        <div *ngIf="passConf.errors.maxlength">
                            Password must be maximum <br/>10 characters long.
                        </div>
                        <div *ngIf="passConf.errors && passConf.errors.validateEqual">
                            Password and ConfirmPassword didn't match.
                        </div>
                    </div>
                </div>
                <script src="https://www.google.com/recaptcha/api.js?render=6LcFPt8UAAAAAEf1LLL2nGpZm-I-DcugWAVKHBHL"></script>
                <script>
                    grecaptcha.ready(function() {
                        grecaptcha.execute('6LcFPt8UAAAAAEf1LLL2nGpZm-I-DcugWAVKHBHL', {action: 'homepage'}).then(function(token) {
                        //...
                        });
                    });
                </script>
                <button type="submit" [disabled]="regForm.invalid" appNoDblClick (click)="onSubmit()"
                        class="btn btn-default full-width rounded-pill mt-3 hoverable z-depth-5 login-btn">
                    <span class="fas fa-check"></span></button>
            </form>
        </div>
    </div>

    <a class="btn full-width rounded-pill mt-3 link" (click)=navigateToLogin()>Already registered? Login <span
            class="fas fa-arrow-right"></span></a>
</div>
